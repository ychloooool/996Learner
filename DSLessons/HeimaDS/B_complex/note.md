# 复杂度分析（Complex）





## 算法的时间复杂度分析



#### 算法程序用时影响因素

1. 算法采用的策略和方案
2. 编译产生的代码质量
3. 问题的输入规模
4. 机器执行指令的速度



#### 度量算法执行时间的方法

度量算法执行时间的方法有事后分析和事前分析。

- 事后分析：通过计时器对算法执行的过程进行计时，受测试环境影响，耗费成本高。
- 事前分析：通过考虑算法的好坏和问题的输入规模来确定大概的耗时情况。



研究算法复杂度，侧重的是当输入规模不断增大时，算法的增长量的一个**抽象**。

分析运行时间，最重要的就是把核心操作的次数和输入规模关联起来。



#### 时间复杂度分析的简化

基于对函数渐进增长的分析，可以对耗时次数进行如下的简化：

1. 只需要关注核心操作的次数
2. 算法函数中的常数可以忽略
3. 算法函数中最高次幂的常数因子可以忽略
4. 算法函数中最高次幂越小，增长趋势越小



#### 大O记法

在进行算法分析时，语句总的执行次数`T(n)`是关于问题规模`n`的函数。

算法的时间复杂度，记作：`T(n)=O(f(n))`。它表示随着问题规模`n`的增大，算法执行时间的增长率和`f(n)`的增长率相同，`f(n)`称作算法的渐进时间复杂度函数，往往是已经过时间复杂度分析简化的函数。



#### 推导大O阶的规则

推导大O阶的表示法有以下几个规则可以使用：

1. 用常数1取代运行时间中的所有加法常数
2. 在修改后的运行次数中，只保留高阶项
3. 如果最高阶项存在，且该常数因子不为1，则去除与这个项相乘的常数



#### 常见的大O阶

常见的大O阶有：`O(1)`、`O(n)`、`O(n^2)`、`O(log(n))`、`O(n*log(n))`等

- 线性阶`O(n)`

  一般含有非嵌套循环的为线性阶，其随着输入规模的增大，计算次数呈线性增长。

- 平方阶`O(n^2)`

  一般双层嵌套循环属于这种时间复杂度。

- 立方阶`O(n^3)`

  一般三层嵌套循环属于这种时间复杂度。

- 对数阶`O(log(n))`

  每一次循环操作，能将问题规模减少一定比例的算法，一般属于对数阶

  ```java
  int i=1, n=100;
  while (i < n) {
      i = i * 2;
  }
  ```

- 常数阶`O(1)`

  一般不涉及循环操作的为常数阶，其不会随着问题规模增大而增加计算次数。



#### 常见时间复杂度总结

| 描述         | 增长的数量级 | 说明     | 举例           |
| ------------ | ------------ | -------- | -------------- |
| 常数级别     | 1            | 普通语句 | 将两个数相加   |
| 对数级别     | logn         | 二分策略 | 二分查找       |
| 线性级别     | n            | 循环     | 找出最大元素   |
| 线性对数级别 | nlogn        | 分治思想 | 归并排序       |
| 平方级别     | n^2          | 双层循环 | 检查所有元素对 |
| 立方级别     | n^3          | 三层循环 | 检查所有三元组 |
|              | 2^n          | 穷举查找 | 检查所有子集   |

其复杂程度从低到高依次为：`O(1)`<`O(log(n))`<`O(n)`<`O(nlog(n))`<`O(n^2)`<`O(n^3)`<`O(2^n)`

在实际开发过程中，尽量追求`O(1)`、`O(log(n))`、`O(n)`、`O(nlog(n))`这几种时间复杂度。



#### 函数调用的时间复杂度分析

- 首先分析被调用方法的时间复杂度
- 之后规整到主方法中进行计算
- 最后按照简化的规则进行时间复杂度的计算



#### 最坏情况

计算算法的时间复杂度，要去倾向于根据算法的最坏情况进行计算。

在应用中，这是一种最基本的保障，表示在最坏情况下，该算法也能够正常的提供服务。





## 算法的空间复杂度分析



==TODO 待补充==

